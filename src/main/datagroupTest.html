<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data Group Test</title>

    <link rel="import" href="view/InputField.html">
    <link rel="import" href="view/NumberField.html">
    <link rel="import" href="view/SelectField.html">
    <link rel="import" href="view/DataGroup.html">

    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>
</head>
<body>

<script>
</script>

    <h3>Data Group Test</h3>

    <template is="dom-bind" id="t1">
        <!--<data-group id="dg1" name="group1" value='{ "label": "a label!", "text": "My words", "amount": 42.42, "type": "CR"} }'>-->
        <data-group id="dg1" name="group1" value='{{theData}}'>
            <template class="d-group">
                <p>
                    Label: <span>{{value.label}}</span>
                </p>
                <p>
                    <input-field label="The Words" value="{{value.text}}" ></input-field>
                    <number-field label="The Amount" value="{{value.amount}}" ></number-field>
                    <select-field name="type" options='[ ["Debit", "DR"], ["Credit", "CR"] ]' value="{{value.type}}"></select-field>
                    <select-field name="type2" options='[ ["Debit", "DR"], ["Credit", "CR"] ]' value="CR"></select-field>

                </p>
            </template>
        </data-group>
    </template>

<script>

    var t1 = document.querySelector('#t1');
    var dg1;

    t1.addEventListener('dom-change', function() {
        dg1 = document.getElementById('dg1');
//        t1.theData = { label: "I'm a label!", text: 'My words', amount: 42.42, type: 'CR'};
//        t1.theData = {};
        dg1.addEventListener('value-changed', function(e) {
            console.log('value-changed', e);
        })
    });


</script>

</body>
</html>